<div class="api-header">
<h1>createServer</h1>
<h3 class="import-path">import &#123; createServer &#125; from '&#64;ng-rsbuild/plugin-angular/ssr';</h3>
</div>

<p>
  The <code class="inline-code">createServer</code> function is used to setup Angular's <code class="inline-code">CommonEngine</code> using an <code class="inline-code">express</code> server.
  It takes the <code class="inline-code">bootstrap</code> function as an argument, which is the function that bootstraps the Angular server application. This is usually <code class="inline-code">main.server.ts</code>.
  It returns <code class="inline-code">RsbuildAngularServer</code> which contains the <code class="inline-code">server</code> instance to allow further modifications as well as the <code class="inline-code">listen</code> method to start the server.
</p>

<app-code-block language="typescript">
function createServer(bootstrap: any): RsbuildAngularServer;
</app-code-block>

<div class="spacer"></div>

<h2>Examples</h2>

<mat-tab-group>
  <mat-tab label="Standard Express Server Usage">
    <p>
      The following example shows how to create a standard express server:
    </p>
    <app-code-block fileName="src/server.ts" language="typescript">
import &#123; createServer &#125; from '&#64;ng-rsbuild/plugin-angular/ssr';
import bootstrap from './main.server';

const server = createServer(bootstrap);

/** Add your custom server logic here
 *
 * For example, you can add a custom static file server:
 *
 * server.app.use('/static', express.static(staticFolder));
 *
 * Or add additional api routes:
 *
 * server.app.get('/api/hello', (req, res) => &#123;
 *   res.send('Hello World!');
 * &#125;);
 *
 * Or add additional middleware:
 *
 * server.app.use((req, res, next) => &#123;
 *   res.send('Hello World!');
 * &#125;);
 */

server.listen();
    </app-code-block>
  </mat-tab>
</mat-tab-group>

<div class="spacer"></div>

<h2>RsbuildAngularServer</h2>

<p>
  The <code>PluginAngularOptions</code> object is an object that contains the
  following properties:
</p>

<app-code-block language="typescript">
export interface RsbuildAngularServer &#123;
  app: express.Express;
  listen: (port?: number) => void;
&#125;
</app-code-block>

@for (option of options; track option.name) {
  <app-api-option [apiOption]="option"></app-api-option>
}
